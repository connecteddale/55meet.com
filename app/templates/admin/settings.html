{% extends "base.html" %}

{% block title %}Settings - The 55{% endblock %}

{% block nav %}
<nav class="admin-nav">
    <div class="nav-links">
        <a href="/admin" class="nav-link">AlignHQ</a>
        <a href="/admin/settings" class="nav-link nav-link-active">Settings</a>
    </div>
    <a href="/admin/logout" class="btn btn-ghost btn-small">Logout</a>
</nav>
{% endblock %}

{% block content %}
<div class="settings-page">
    <header class="settings-header">
        <h1>Settings</h1>
    </header>

    <section class="settings-section">
        <h2>Change Password</h2>

        {% if success %}
        <div class="alert alert-success">
            {{ success }}
        </div>
        {% endif %}

        {% if error %}
        <div class="alert alert-error">
            {{ error }}
        </div>
        {% endif %}

        <form method="POST" action="/admin/settings/password" class="settings-form"
              onsubmit="this.querySelector('button[type=submit]').classList.add('btn-loading')">
            <div class="form-group">
                <label for="current_password">Current Password</label>
                <input type="password" id="current_password" name="current_password" required
                       autocomplete="current-password" class="form-input">
            </div>

            <div class="form-group">
                <label for="new_password">New Password</label>
                <input type="password" id="new_password" name="new_password" required
                       minlength="8" autocomplete="new-password" class="form-input">
                <span class="form-hint">Minimum 8 characters</span>
            </div>

            <div class="form-group">
                <label for="confirm_password">Confirm New Password</label>
                <input type="password" id="confirm_password" name="confirm_password" required
                       minlength="8" autocomplete="new-password" class="form-input">
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Update Password</button>
            </div>
        </form>
    </section>
</div>
{% endblock %}
