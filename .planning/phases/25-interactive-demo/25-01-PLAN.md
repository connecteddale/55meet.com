---
phase: 25-interactive-demo
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/routers/demo.py
  - app/routers/__init__.py
  - app/main.py
  - templates/demo/intro.html
autonomous: true

must_haves:
  truths:
    - "Visitor can navigate to /demo and see ClearBrief context"
    - "Visitor sees 4 fictional team members with shuffled names"
    - "Visitor sees strategy statement"
    - "Demo page uses existing design system (Inter font, CSS variables)"
  artifacts:
    - path: "app/routers/demo.py"
      provides: "Demo route handler with pre-baked content"
      contains: "DEMO_COMPANY"
    - path: "templates/demo/intro.html"
      provides: "Demo intro template"
      contains: "ClearBrief"
  key_links:
    - from: "app/main.py"
      to: "app/routers/demo.py"
      via: "router include"
      pattern: "demo_router"
    - from: "templates/demo/intro.html"
      to: "base.html"
      via: "extends"
      pattern: "extends.*base.html"
---

<objective>
Create the demo router foundation and intro page showing ClearBrief company context with shuffled team member names.

Purpose: Establishes the /demo route structure and displays the fictional company (ClearBrief, $65M legal tech SaaS) with 4 team members whose names shuffle on each visit. This is the entry point for the entire demo flow.

Output: Working /demo page with company context, strategy statement, and team member cards
</objective>

<execution_context>
@/home/DrPloy/.claude/get-shit-done/workflows/execute-plan.md
@/home/DrPloy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/25-interactive-demo/25-RESEARCH.md

# Existing patterns to follow
@app/routers/participant.py (route structure pattern)
@app/routers/__init__.py (router registration pattern)
@app/main.py (router inclusion pattern)
@templates/base.html (template inheritance)
@templates/participant/synthesis.html (card/section layout pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create demo router with pre-baked data and intro route</name>
  <files>
    app/routers/demo.py
    app/routers/__init__.py
    app/main.py
  </files>
  <action>
Create app/routers/demo.py with:

1. Pre-baked demo data constants:
   - DEMO_COMPANY: name="ClearBrief", industry="Legal Tech SaaS", revenue="$65M ARR", strategy="Help law firms win clients through transparency - open billing, open matters, no surprises."
   - NAME_POOLS: Dict mapping roles to 3 name options each:
     - "CTO": ["Sarah Chen", "Sarah Martinez", "Sarah Williams"]
     - "CFO": ["James Park", "James Thompson", "James Rivera"]
     - "VP Sales": ["Michael Lee", "Michael Johnson", "Michael Okafor"]
     - "COO": ["Rachel Kim", "Rachel Garcia", "Rachel Patel"]

2. Helper function get_demo_seed(request: Request) -> int:
   - Try to get seed from query param first
   - Otherwise generate hourly-changing seed: int(time.time()) // 3600

3. Helper function get_shuffled_team(seed: int) -> list:
   - Use random.Random(seed) for deterministic shuffling
   - For each role, pick one name from that role's pool
   - Return list of dicts with: name, role, first_name (extracted from name)

4. Route GET /demo -> demo_intro():
   - Get seed from request
   - Generate shuffled team
   - Return templates.TemplateResponse("demo/intro.html", {request, company, team_members, seed})

Update app/routers/__init__.py:
- Import: from app.routers.demo import router as demo_router
- Add to __all__: "demo_router"

Update app/main.py:
- Import demo_router from app.routers
- Add: app.include_router(demo_router)
  </action>
  <verify>
python -c "from app.routers.demo import router, DEMO_COMPANY, get_shuffled_team; print('Router imports OK'); team = get_shuffled_team(12345); print(f'Team: {[m[\"name\"] for m in team]}')"
  </verify>
  <done>
Demo router exists with DEMO_COMPANY constant, get_shuffled_team produces 4 team members with names from pools, router is registered in main.py
  </done>
</task>

<task type="auto">
  <name>Task 2: Create demo intro template with company context and team cards</name>
  <files>
    templates/demo/intro.html
  </files>
  <action>
Create templates/demo/intro.html that extends base.html:

1. Block title: "Try The 55 - Interactive Demo"

2. Block header: Simple header with "The 55" branding and "Demo" badge

3. Block content with sections:
   a. Hero section:
      - "Experience The 55" headline
      - Subtext: "See how a leadership team surfaces what's really going on"

   b. Company context card:
      - Company name: {{ company.name }}
      - Industry badge: {{ company.industry }}
      - Revenue: {{ company.revenue }}
      - Strategy statement in prominent display: {{ company.strategy }}

   c. Team section:
      - Heading: "The {{ company.name }} Leadership Team"
      - Subtext: "has already completed their Signal Capture..."
      - 4 team member cards in responsive grid (2x2 on mobile, 4-across on desktop)
      - Each card shows: {{ member.name }} and {{ member.role }}

   d. Signal Capture tease:
      - "Now it's your turn."
      - Brief explanation: "Experience how Signal Capture works by selecting an image that represents how this team is executing their strategy."

   e. CTA button:
      - "Begin Signal Capture" button
      - Links to /demo/signal?seed={{ seed }}
      - Uses existing btn btn-primary btn-large classes

4. Use View Transitions: Add view-transition-name to main content areas

5. CSS: Use existing design system classes. Add minimal demo-specific styles inline or in a style block:
   - .demo-company-card with subtle border and padding
   - .demo-team-grid with CSS grid (grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)))
   - .demo-member-card with centered text and subtle background
  </action>
  <verify>
curl -s http://localhost:8000/demo | grep -q "ClearBrief" && echo "Company name present" || echo "FAIL: Company name missing"
curl -s http://localhost:8000/demo | grep -q "Legal Tech SaaS" && echo "Industry present" || echo "FAIL: Industry missing"
curl -s http://localhost:8000/demo | grep -q "signal?seed=" && echo "Signal link present" || echo "FAIL: Signal link missing"
  </verify>
  <done>
/demo displays ClearBrief company context, 4 team members with names (shuffled based on seed), strategy statement, and "Begin Signal Capture" CTA linking to /demo/signal
  </done>
</task>

</tasks>

<verification>
1. Navigate to http://localhost:8000/demo - should show ClearBrief intro page
2. Page shows company name, industry ($65M Legal Tech SaaS), and strategy statement
3. Page shows 4 team member cards (CTO, CFO, VP Sales, COO) with names
4. Refresh page - team names should change (hourly seed) OR stay same within hour
5. "Begin Signal Capture" button links to /demo/signal?seed=XXXXX
6. Page uses existing design system (Inter font, consistent colors)
7. No console errors
</verification>

<success_criteria>
- /demo route responds with 200
- ClearBrief company context visible with strategy statement
- 4 team members displayed with roles
- Names deterministically shuffled based on hourly seed
- CTA button links to /demo/signal with seed parameter
- Page follows existing design system patterns
</success_criteria>

<output>
After completion, create `.planning/phases/25-interactive-demo/25-01-SUMMARY.md`
</output>
