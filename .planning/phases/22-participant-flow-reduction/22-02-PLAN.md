---
phase: 35-participant-flow-reduction
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - sites/55meet.com/templates/participant/respond.html
  - sites/55meet.com/templates/participant/select_name.html
  - sites/55meet.com/static/css/main.css
autonomous: true

must_haves:
  truths:
    - "Strategy statement appears as compact header banner on image browser page"
    - "Name picker displays names as tappable card/chip grid instead of radio button list"
    - "Name cards are touch-friendly with 44px+ tap targets"
    - "Card grid is responsive (auto-fit, wraps on narrow screens)"
  artifacts:
    - path: "sites/55meet.com/templates/participant/respond.html"
      provides: "Strategy header banner above image browser"
      contains: "strategy_statement"
    - path: "sites/55meet.com/templates/participant/select_name.html"
      provides: "CSS Grid card layout for name selection"
      contains: "name-card"
    - path: "sites/55meet.com/static/css/main.css"
      provides: "Name card grid styles and strategy banner styles"
      contains: "name-grid"
  key_links:
    - from: "templates/participant/respond.html"
      to: "team.strategy_statement"
      via: "Jinja2 template variable"
      pattern: "team\\.strategy_statement"
    - from: "templates/participant/select_name.html"
      to: "static/css/main.css"
      via: "CSS class names"
      pattern: "name-grid|name-card"
---

<objective>
Add strategy header to image browser and convert name picker to card grid.

Purpose: Merge strategy display into the respond page (eliminating a separate screen) and improve name selection UX with touch-friendly cards instead of radio buttons.
Output: Updated respond.html with strategy banner, updated select_name.html with card grid, updated main.css with new styles.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@sites/55meet.com/templates/participant/respond.html
@sites/55meet.com/templates/participant/select_name.html
@sites/55meet.com/static/css/main.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Strategy header banner on respond page</name>
  <files>sites/55meet.com/templates/participant/respond.html, sites/55meet.com/static/css/main.css</files>
  <action>
  Add a compact strategy statement banner at the top of the image browser in respond.html.

  In respond.html, inside `.image-browser` div, BEFORE the `.image-browser-sticky` div, add:

  ```html
  {% if team.strategy_statement %}
  <div class="strategy-banner">
      <span class="strategy-banner-label">Our Strategy:</span>
      <span class="strategy-banner-text">{{ team.strategy_statement }}</span>
  </div>
  {% endif %}
  ```

  The `team` object is already passed to this template, and `team.strategy_statement` is a model field.

  In main.css, add styles for `.strategy-banner`:
  - `display: flex; align-items: baseline; gap: 8px;`
  - `padding: 12px 16px;`
  - `background: var(--color-bg-secondary);` (subtle background, uses existing token)
  - `border-bottom: 1px solid var(--color-border);`
  - `font-family: var(--font-body);` (Inter)
  - `.strategy-banner-label`: `font-size: 0.75rem; font-weight: 600; color: var(--color-text-muted); text-transform: uppercase; letter-spacing: 0.05em; white-space: nowrap;`
  - `.strategy-banner-text`: `font-size: 0.875rem; color: var(--color-text); line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;` (clamp to 2 lines max)

  The banner should NOT be sticky â€” it scrolls with content. Only `.image-browser-sticky` remains sticky.
  </action>
  <verify>
  - Template renders without Jinja2 errors
  - Strategy banner appears when team has strategy_statement set
  - Banner is hidden when strategy_statement is null/empty
  - Text clamps to 2 lines for long statements
  </verify>
  <done>
  - Strategy statement displays as compact labeled banner at top of image browser
  - Uses existing design tokens (colors, fonts)
  - Gracefully hidden when no strategy exists
  - Max 2 lines with overflow ellipsis
  </done>
</task>

<task type="auto">
  <name>Task 2: Name picker card grid</name>
  <files>sites/55meet.com/templates/participant/select_name.html, sites/55meet.com/static/css/main.css</files>
  <action>
  Replace the radio button list in select_name.html with a CSS Grid card/chip layout.

  In select_name.html, replace the form content (the `.name-list` div and its contents) with:

  ```html
  <div class="name-grid" id="name-grid">
      {% for member in members %}
      <button type="button"
              class="name-card {% if member.id in responded_ids %}responded{% endif %}"
              data-member-id="{{ member.id }}"
              {% if member.id in responded_ids %}disabled aria-disabled="true"{% endif %}
              aria-label="{{ member.name }}{% if member.id in responded_ids %} (already responded){% endif %}">
          <span class="name-card-text">{{ member.name }}</span>
          {% if member.id in responded_ids %}
          <span class="name-card-badge">Done</span>
          {% endif %}
      </button>
      {% endfor %}
  </div>
  <input type="hidden" name="member_id" id="selected-member" required>
  ```

  Add JavaScript (in a `{% block scripts %}` block) to handle card selection:

  ```javascript
  (function() {
      const cards = document.querySelectorAll('.name-card:not(.responded)');
      const hiddenInput = document.getElementById('selected-member');
      const submitBtn = document.querySelector('.btn-primary');

      submitBtn.disabled = true;

      cards.forEach(card => {
          card.addEventListener('click', function() {
              // Deselect all
              document.querySelectorAll('.name-card').forEach(c => c.classList.remove('selected'));
              // Select this one
              this.classList.add('selected');
              hiddenInput.value = this.dataset.memberId;
              submitBtn.disabled = false;
          });
      });
  })();
  ```

  In main.css, REPLACE the existing `.name-list` and `.name-option` styles (lines ~1094-1138) with:

  ```css
  /* Name Card Grid */
  .name-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
      margin-bottom: var(--space-6);
  }

  .name-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: var(--space-4);
      min-height: 80px;
      border: 2px solid var(--color-border);
      border-radius: 12px;
      background: var(--color-bg);
      cursor: pointer;
      transition: all 0.15s ease;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      font-family: inherit;
      font-size: inherit;
  }

  .name-card:active:not(.responded) {
      transform: scale(0.97);
  }

  .name-card.selected {
      border-color: var(--color-primary);
      background: color-mix(in srgb, var(--color-primary) 8%, var(--color-bg));
      box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary) 20%, transparent);
  }

  .name-card.responded {
      opacity: 0.45;
      cursor: not-allowed;
  }

  .name-card-text {
      font-weight: 500;
      font-size: 0.9375rem;
      text-align: center;
      word-break: break-word;
  }

  .name-card-badge {
      font-size: 0.6875rem;
      color: var(--color-text-muted);
      margin-top: 4px;
      text-transform: uppercase;
      letter-spacing: 0.03em;
  }

  @media (hover: hover) {
      .name-card:hover:not(.responded):not(.selected) {
          border-color: var(--color-primary);
          background: color-mix(in srgb, var(--color-primary) 4%, var(--color-bg));
      }
  }
  ```

  Remove the old `.name-list`, `.name-option`, `.name-option:hover`, `.name-option input[type="radio"]`, `.name-option.responded`, `.name-text`, and `.responded-badge` styles entirely.
  </action>
  <verify>
  - Template renders without errors
  - Cards display in responsive grid (3 cols on desktop, 2 on tablet, 1-2 on phone)
  - Tapping a card selects it (visual highlight + hidden input set)
  - Submit button disabled until selection made
  - Responded members show as disabled/dimmed cards
  - Cards have 44px+ touch targets (min-height: 80px)
  </verify>
  <done>
  - Name picker renders as CSS Grid of tappable cards
  - Grid uses auto-fit with minmax(140px, 1fr) for responsive columns
  - Selected card has primary color border + subtle background tint
  - Responded cards are visually dimmed and non-interactive
  - Touch targets exceed 44px minimum
  - No radio buttons visible
  - `-webkit-tap-highlight-color: transparent` and `user-select: none` applied
  </done>
</task>

</tasks>

<verification>
- Both templates render without Jinja2 syntax errors
- Strategy banner visible on respond page when team has strategy
- Name grid displays responsive cards
- Card selection works (JavaScript sets hidden input)
- CSS compiles (no syntax errors in main.css)
- All existing functionality preserved (form submission, responded state)
</verification>

<success_criteria>
- Strategy statement is visible on image browser page as compact banner (no separate screen needed)
- Name selection uses card/chip grid with touch-friendly 44px+ targets
- Grid is responsive across all viewport sizes
- Form submission still works correctly (hidden input carries member_id)
</success_criteria>

<output>
After completion, create `.planning/phases/35-participant-flow-reduction/35-02-SUMMARY.md`
</output>
