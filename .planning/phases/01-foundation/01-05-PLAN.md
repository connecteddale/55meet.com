---
phase: 10-foundation
plan: 05
type: execute
wave: 2
depends_on: [10-01]
files_modified:
  - the55/app/static/images/55/*.svg
  - the55/app/routers/images.py
autonomous: true

must_haves:
  truths:
    - "55 placeholder images exist"
    - "Images accessible at /static/images/55/"
    - "Images display correctly in browser"
  artifacts:
    - path: "the55/app/static/images/55/01.svg"
      provides: "First placeholder image"
      contains: "svg"
    - path: "the55/app/static/images/55/55.svg"
      provides: "Last placeholder image"
      contains: "svg"
  key_links:
    - from: "static files mount"
      to: "images/55/"
      via: "FastAPI static mount"
      pattern: "/static/images/55/"
---

<objective>
Create 55 numbered placeholder images for development while Dale sources actual images.

Purpose: Enable participant flow development without blocking on image assets.
Output: 55 SVG placeholder images numbered 01-55, viewable at /static/images/55/.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/research/ARCHITECTURE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create placeholder image generator script</name>
  <files>the55/scripts/generate_placeholders.py</files>
  <action>
    Create scripts directory and generator:
    ```bash
    mkdir -p /var/www/the55/scripts
    ```

    Create generate_placeholders.py:
    ```python
    #!/usr/bin/env python3
    """Generate 55 placeholder SVG images for development."""

    import os
    from pathlib import Path

    # Output directory
    OUTPUT_DIR = Path(__file__).parent.parent / "app" / "static" / "images" / "55"

    # SVG template - clean, numbered placeholder
    SVG_TEMPLATE = '''<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" viewBox="0 0 400 400">
      <rect width="400" height="400" fill="{bg_color}"/>
      <text x="200" y="200" font-family="Arial, sans-serif" font-size="120" font-weight="bold"
            fill="{text_color}" text-anchor="middle" dominant-baseline="central">{number}</text>
      <text x="200" y="280" font-family="Arial, sans-serif" font-size="24"
            fill="{text_color}" text-anchor="middle" opacity="0.6">placeholder</text>
    </svg>'''

    # Color palette for variety
    COLORS = [
        ("#e0f2fe", "#0369a1"),  # Sky blue
        ("#dbeafe", "#1d4ed8"),  # Blue
        ("#e0e7ff", "#4338ca"),  # Indigo
        ("#ede9fe", "#6d28d9"),  # Violet
        ("#fae8ff", "#a21caf"),  # Fuchsia
        ("#fce7f3", "#be185d"),  # Pink
        ("#fee2e2", "#b91c1c"),  # Red
        ("#ffedd5", "#c2410c"),  # Orange
        ("#fef3c7", "#b45309"),  # Amber
        ("#fef9c3", "#a16207"),  # Yellow
        ("#ecfccb", "#4d7c0f"),  # Lime
        ("#dcfce7", "#15803d"),  # Green
        ("#d1fae5", "#047857"),  # Emerald
        ("#ccfbf1", "#0f766e"),  # Teal
        ("#cffafe", "#0e7490"),  # Cyan
    ]

    def generate_placeholders():
        """Generate 55 placeholder SVG images."""
        OUTPUT_DIR.mkdir(parents=True, exist_ok=True)

        for i in range(1, 56):
            # Cycle through colors
            bg_color, text_color = COLORS[(i - 1) % len(COLORS)]

            # Format number with leading zero
            number_str = f"{i:02d}"

            # Generate SVG
            svg_content = SVG_TEMPLATE.format(
                bg_color=bg_color,
                text_color=text_color,
                number=number_str
            )

            # Write file
            output_path = OUTPUT_DIR / f"{number_str}.svg"
            output_path.write_text(svg_content)
            print(f"Created {output_path.name}")

        print(f"\nGenerated 55 placeholder images in {OUTPUT_DIR}")

    if __name__ == "__main__":
        generate_placeholders()
    ```
  </action>
  <verify>File exists at the55/scripts/generate_placeholders.py</verify>
  <done>Generator script created</done>
</task>

<task type="auto">
  <name>Task 2: Generate placeholder images</name>
  <files>the55/app/static/images/55/*.svg</files>
  <action>
    Run the generator:
    ```bash
    cd /var/www/the55
    python scripts/generate_placeholders.py
    ```

    Verify images created:
    ```bash
    ls -la /var/www/the55/app/static/images/55/ | head -20
    ls /var/www/the55/app/static/images/55/ | wc -l  # Should be 55
    ```
  </action>
  <verify>ls /var/www/the55/app/static/images/55/*.svg | wc -l returns 55</verify>
  <done>55 placeholder SVG images generated</done>
</task>

<task type="auto">
  <name>Task 3: Create image list endpoint</name>
  <files>the55/app/routers/images.py, the55/app/routers/__init__.py</files>
  <action>
    Create images.py router for API access to image list:
    ```python
    from fastapi import APIRouter
    from pathlib import Path

    router = APIRouter(prefix="/api", tags=["images"])

    IMAGES_DIR = Path(__file__).parent.parent / "static" / "images" / "55"

    @router.get("/images")
    async def list_images():
        """Return list of available images."""
        images = sorted([
            {
                "number": int(f.stem),
                "filename": f.name,
                "url": f"/static/images/55/{f.name}"
            }
            for f in IMAGES_DIR.glob("*.svg")
        ], key=lambda x: x["number"])
        return {"images": images, "count": len(images)}
    ```

    Update routers/__init__.py:
    ```python
    from app.routers.auth import router as auth_router
    from app.routers.admin import router as admin_router
    from app.routers.images import router as images_router
    ```

    Update main.py to include images router:
    ```python
    from app.routers import auth_router, admin_router, images_router

    # ... in app setup
    app.include_router(images_router)
    ```
  </action>
  <verify>python -c "from app.routers.images import router; print('OK')"</verify>
  <done>Images API endpoint created</done>
</task>

<task type="auto">
  <name>Task 4: Test image access</name>
  <files>None (testing only)</files>
  <action>
    Start app and verify images accessible:
    ```bash
    cd /var/www/the55
    uvicorn app.main:app --host 0.0.0.0 --port 8055 &
    sleep 2

    # Test static image access
    curl -s -o /dev/null -w "%{http_code}" http://localhost:8055/static/images/55/01.svg
    # Should return 200

    curl -s -o /dev/null -w "%{http_code}" http://localhost:8055/static/images/55/55.svg
    # Should return 200

    # Test API endpoint
    curl -s http://localhost:8055/api/images | python -c "import sys,json; d=json.load(sys.stdin); print(f'Count: {d[\"count\"]}')"
    # Should print: Count: 55

    pkill -f "uvicorn app.main:app"
    ```
  </action>
  <verify>curl returns 200 for /static/images/55/01.svg</verify>
  <done>Images accessible via static mount and API</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] 55 SVG files exist in app/static/images/55/
- [ ] Files named 01.svg through 55.svg
- [ ] Images accessible at /static/images/55/XX.svg
- [ ] /api/images returns list of 55 images
- [ ] SVGs render correctly in browser
</verification>

<success_criteria>
- All tasks completed
- 55 placeholder images generated
- Images accessible via static file serving
- API endpoint returns image list
</success_criteria>

<output>
After completion, create `.planning/phases/10-foundation/10-05-SUMMARY.md`
</output>
