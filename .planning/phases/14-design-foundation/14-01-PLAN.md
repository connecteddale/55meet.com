---
phase: 23-design-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - the55/app/static/css/variables.css
autonomous: true

must_haves:
  truths:
    - "Design tokens define consistent colors, spacing, and typography scale"
    - "Typography uses fluid clamp() sizing that scales with viewport"
    - "Apple-style color palette with primary, secondary, and tertiary text colors"
  artifacts:
    - path: "the55/app/static/css/variables.css"
      provides: "Design token system"
      contains: "clamp("
  key_links:
    - from: "the55/app/static/css/variables.css"
      to: "the55/app/static/css/main.css"
      via: "@import url('variables.css')"
      pattern: "@import.*variables"
---

<objective>
Create a comprehensive design token system with fluid typography, Apple-inspired color palette, and premium spacing scale.

Purpose: Establish the foundation for consistent, premium-feeling design across all v2.2 deliverables. These tokens will be consumed by all subsequent styling work.

Output: Enhanced variables.css with complete token system ready for use.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/STACK-v22-UX.md
@the55/app/static/css/variables.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Design Token System</name>
  <files>the55/app/static/css/variables.css</files>
  <action>
Replace the current basic variables.css with a comprehensive design token system:

**Colors (Apple-inspired minimal palette):**
```css
/* Primary palette */
--color-primary: #0066cc;        /* Apple blue - more refined than current */
--color-primary-dark: #004499;
--color-primary-light: #e5f0ff;

/* Text hierarchy (Apple-style) */
--color-text: #1d1d1f;           /* Primary text - near black */
--color-text-secondary: #6e6e73; /* Secondary text */
--color-text-tertiary: #86868b;  /* Tertiary/muted text */

/* Backgrounds */
--color-bg: #ffffff;
--color-bg-secondary: #f5f5f7;   /* Apple's signature light gray */
--color-bg-tertiary: #fbfbfd;

/* Borders */
--color-border: #d2d2d7;
--color-border-light: #e8e8ed;

/* Semantic colors (keep existing for compatibility) */
--color-success: #34c759;        /* Apple green */
--color-warning: #ff9500;        /* Apple orange */
--color-error: #ff3b30;          /* Apple red */
```

**Typography (fluid clamp() sizing):**
```css
/* Font family - Inter for premium feel */
--font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

/* Fluid type scale - min/preferred/max */
--text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
--text-sm: clamp(0.875rem, 0.8rem + 0.35vw, 1rem);
--text-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
--text-lg: clamp(1.125rem, 1rem + 0.6vw, 1.375rem);
--text-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
--text-2xl: clamp(1.5rem, 1.25rem + 1.25vw, 2rem);
--text-3xl: clamp(2rem, 1.5rem + 2.5vw, 3rem);
--text-4xl: clamp(2.5rem, 1.75rem + 3.75vw, 4rem);

/* Letter spacing for headlines (Apple-style tight) */
--tracking-tight: -0.03em;
--tracking-snug: -0.02em;
--tracking-normal: 0;
--tracking-wide: 0.01em;
--tracking-wider: 0.02em;

/* Line heights */
--leading-none: 1;
--leading-tight: 1.1;
--leading-snug: 1.25;
--leading-normal: 1.5;
--leading-relaxed: 1.7;
```

**Spacing (4px base, extended scale):**
```css
--space-0: 0;
--space-1: 0.25rem;   /* 4px */
--space-2: 0.5rem;    /* 8px */
--space-3: 0.75rem;   /* 12px */
--space-4: 1rem;      /* 16px */
--space-5: 1.25rem;   /* 20px */
--space-6: 1.5rem;    /* 24px */
--space-8: 2rem;      /* 32px */
--space-10: 2.5rem;   /* 40px */
--space-12: 3rem;     /* 48px */
--space-16: 4rem;     /* 64px */
--space-20: 5rem;     /* 80px */
--space-24: 6rem;     /* 96px */
```

**Animation timing:**
```css
--ease-out: cubic-bezier(0.16, 1, 0.3, 1);
--ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
--duration-fast: 150ms;
--duration-normal: 300ms;
--duration-slow: 500ms;
```

**Shadows (premium layered):**
```css
--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
--shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
--shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
--shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.16);
```

**Layout (keep existing + add):**
```css
--container-max: 1200px;
--container-padding: var(--space-4);
--touch-target-min: 44px;

/* Content widths */
--prose-max: 65ch;  /* Optimal reading width */
```

**Keep backwards compatibility:**
Alias old variable names to new ones so existing CSS doesn't break:
```css
/* Backwards compatibility aliases */
--color-text-muted: var(--color-text-secondary);
--font-size-xs: var(--text-xs);
--font-size-sm: var(--text-sm);
--font-size-base: var(--text-base);
--font-size-lg: var(--text-lg);
--font-size-xl: var(--text-xl);
--font-size-2xl: var(--text-2xl);
--font-size-3xl: var(--text-3xl);
--transition-fast: var(--duration-fast) var(--ease-out);
--transition-base: var(--duration-normal) var(--ease-out);
```

**Add Inter font import at top:**
```css
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
```
  </action>
  <verify>
1. Check variables.css contains clamp() typography: `grep -c "clamp(" the55/app/static/css/variables.css` (should be >= 8)
2. Check Apple-style colors exist: `grep "#1d1d1f" the55/app/static/css/variables.css`
3. Check Inter font import: `grep "Inter" the55/app/static/css/variables.css`
4. Run dev server and verify no CSS parsing errors in browser console
  </verify>
  <done>
Design tokens file contains:
- 8+ fluid typography variables using clamp()
- Apple-style color palette (#1d1d1f, #6e6e73, #f5f5f7)
- Extended spacing scale (space-0 through space-24)
- Animation timing with premium easing curves
- Layered shadow system
- Backwards compatibility aliases
- Inter font import
  </done>
</task>

</tasks>

<verification>
1. Visit any existing page (e.g., /admin/login) - page should render without CSS errors
2. Inspect element - verify new CSS variables are available in :root
3. Text should now use Inter font (check font-family in computed styles)
</verification>

<success_criteria>
- [ ] variables.css updated with complete token system
- [ ] Fluid typography tokens using clamp() defined
- [ ] Apple-style color palette in place
- [ ] Extended spacing scale available
- [ ] Backwards compatibility maintained (existing pages don't break)
- [ ] Inter font loading from Google Fonts
</success_criteria>

<output>
After completion, create `.planning/phases/23-design-foundation/23-01-SUMMARY.md`
</output>
