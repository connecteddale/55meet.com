---
phase: 23-design-foundation
plan: 02
type: execute
wave: 2
depends_on: ["23-01"]
files_modified:
  - the55/app/static/css/main.css
autonomous: true

must_haves:
  truths:
    - "Headlines use tight letter-spacing (-0.02 to -0.03em)"
    - "Body text has relaxed line-height (1.5-1.7)"
    - "Buttons have premium hover states with subtle shadows"
    - "Cards have consistent shadow treatment"
    - "Inputs have refined focus states"
  artifacts:
    - path: "the55/app/static/css/main.css"
      provides: "Typography and component patterns"
      contains: "letter-spacing"
  key_links:
    - from: "the55/app/static/css/main.css"
      to: "the55/app/static/css/variables.css"
      via: "@import"
      pattern: "var\\(--text-"
---

<objective>
Apply design tokens to typography and create premium component patterns for buttons, cards, and inputs.

Purpose: Transform existing functional styling into premium-feeling components. Typography gets Apple-style treatment (tight headlines, relaxed body). Components get refined hover/focus states with subtle shadows.

Output: Updated main.css with premium typography and component patterns.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/STACK-v22-UX.md
@.planning/phases/23-design-foundation/23-01-SUMMARY.md
@the55/app/static/css/variables.css
@the55/app/static/css/main.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Typography System Update</name>
  <files>the55/app/static/css/main.css</files>
  <action>
Update the typography section in main.css (around lines 10-40) with Apple-style treatment:

**Base HTML:**
```css
html {
  font-size: 16px;  /* Keep for iOS zoom prevention */
  -webkit-text-size-adjust: 100%;
}
```

**Body text:**
```css
body {
  font-family: var(--font-family);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);  /* 1.7 for better readability */
  color: var(--color-text);
  background-color: var(--color-bg);
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
```

**Headlines with tight letter-spacing:**
```css
h1, h2, h3, h4, h5, h6 {
  line-height: var(--leading-tight);  /* 1.1 */
  font-weight: 600;
}

h1 {
  font-size: var(--text-3xl);
  letter-spacing: var(--tracking-tight);  /* -0.03em */
  font-weight: 700;
}

h2 {
  font-size: var(--text-2xl);
  letter-spacing: var(--tracking-snug);  /* -0.02em */
}

h3 {
  font-size: var(--text-xl);
  letter-spacing: var(--tracking-snug);  /* -0.02em */
}

h4 {
  font-size: var(--text-lg);
  letter-spacing: var(--tracking-normal);
}
```

**Paragraph and prose:**
```css
p {
  max-width: var(--prose-max);  /* 65ch for readability */
}

.prose {
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  max-width: var(--prose-max);
}

.prose p + p {
  margin-top: var(--space-4);
}
```

**Text utility classes:**
```css
.text-secondary {
  color: var(--color-text-secondary);
}

.text-tertiary {
  color: var(--color-text-tertiary);
}

.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}
```

**Add these new classes near the top of the file (after reset, before base styles).**
  </action>
  <verify>
1. Check letter-spacing in headlines: `grep "tracking-tight\|tracking-snug" the55/app/static/css/main.css`
2. Check line-height: `grep "leading-relaxed" the55/app/static/css/main.css`
3. Check antialiased rendering: `grep "font-smoothing" the55/app/static/css/main.css`
  </verify>
  <done>
Typography system updated:
- h1 uses --text-3xl with --tracking-tight (-0.03em)
- h2/h3 use --tracking-snug (-0.02em)
- body uses --leading-relaxed (1.7)
- Antialiased font rendering enabled
- Prose class with 65ch max-width
  </done>
</task>

<task type="auto">
  <name>Task 2: Premium Component Patterns</name>
  <files>the55/app/static/css/main.css</files>
  <action>
Update button, card, and input styles for premium feel. Locate existing styles and enhance:

**Buttons (around line 109-134):**
```css
/* Base button */
.btn,
button[type="submit"] {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-3) var(--space-6);
  font-size: var(--text-base);
  font-weight: 500;
  min-height: var(--touch-target-min);
  border: none;
  border-radius: 8px;  /* Softer corners */
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-out);
  text-decoration: none;
}

/* Primary button - premium feel */
.btn-primary,
button[type="submit"] {
  background-color: var(--color-primary);
  color: white;
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover,
button[type="submit"]:hover {
  background-color: var(--color-primary-dark);
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-primary:active,
button[type="submit"]:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

/* Secondary button */
.btn-secondary {
  background-color: var(--color-bg-secondary);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}

.btn-secondary:hover {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-border-light);
}

/* Ghost button (text-only) */
.btn-ghost {
  background: transparent;
  color: var(--color-primary);
  padding: var(--space-2) var(--space-3);
}

.btn-ghost:hover {
  background: var(--color-primary-light);
}
```

**Cards (around line 192-200):**
```css
.card {
  background: var(--color-bg);
  border: 1px solid var(--color-border-light);
  border-radius: 12px;  /* Softer corners */
  padding: var(--space-6);
  margin-bottom: var(--space-4);
  box-shadow: var(--shadow-sm);
  transition: box-shadow var(--duration-fast) var(--ease-out),
              border-color var(--duration-fast) var(--ease-out);
}

.card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--color-border);
}

/* Card that links somewhere */
.card-link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.card-link:hover {
  text-decoration: none;
}

/* Elevated card variant */
.card-elevated {
  border: none;
  box-shadow: var(--shadow-md);
}

.card-elevated:hover {
  box-shadow: var(--shadow-lg);
}
```

**Inputs (around line 87-107):**
```css
input[type="text"],
input[type="password"],
input[type="email"],
input[type="month"],
textarea,
select {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
  font-family: inherit;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  min-height: var(--touch-target-min);
  background: var(--color-bg);
  color: var(--color-text);
  transition: border-color var(--duration-fast) var(--ease-out),
              box-shadow var(--duration-fast) var(--ease-out);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-light);
}

input::placeholder,
textarea::placeholder {
  color: var(--color-text-tertiary);
}

/* Label styling */
label {
  display: block;
  margin-bottom: var(--space-2);
  font-weight: 500;
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}
```

**Add reduced motion support at the end of the file:**
```css
/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
```
  </action>
  <verify>
1. Check button hover transform: `grep "translateY" the55/app/static/css/main.css`
2. Check card shadow: `grep "shadow-sm\|shadow-md" the55/app/static/css/main.css`
3. Check input focus ring: `grep "primary-light" the55/app/static/css/main.css`
4. Check reduced motion: `grep "prefers-reduced-motion" the55/app/static/css/main.css`
  </verify>
  <done>
Component patterns updated:
- Buttons: subtle shadow, hover lift effect (-1px), 8px border-radius
- Cards: layered shadows (sm default, md on hover), 12px border-radius
- Inputs: refined focus ring using primary-light color
- Reduced motion media query added for accessibility
  </done>
</task>

<task type="auto">
  <name>Task 3: Apply Tokens to Existing Components</name>
  <files>the55/app/static/css/main.css</files>
  <action>
Update existing component styles throughout main.css to use new token variables. Search and replace patterns:

**Color updates (use secondary/tertiary text):**
- Replace `color: var(--color-text-muted)` with `color: var(--color-text-secondary)` in non-alias contexts
- Update status indicators to use semantic colors

**Update team-card hover (around line 330):**
```css
.team-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-md);
  text-decoration: none;
}
```

**Update session items (around line 520):**
```css
.session-item:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-sm);
  text-decoration: none;
}
```

**Update login container (around line 169):**
```css
.login-container {
  background: var(--color-bg);
  padding: var(--space-8);
  border-radius: 16px;  /* Premium rounded */
  box-shadow: var(--shadow-lg);
  width: 100%;
  max-width: 400px;
  margin: var(--space-4);
}
```

**Update header (around line 52):**
```css
header {
  background: var(--color-bg);
  border-bottom: 1px solid var(--color-border-light);
  padding: var(--space-4) 0;
}

header h1 {
  font-size: var(--text-xl);
  letter-spacing: var(--tracking-snug);
}
```

**Update presentation mode (around line 1514):**
Keep the dark theme but refine:
```css
.presentation-month {
  font-size: var(--text-4xl);  /* Use new larger scale */
  font-weight: 700;
  letter-spacing: var(--tracking-tight);
}
```

**Ensure all transitions use new easing:**
Search for `transition:` and ensure they use `var(--duration-fast) var(--ease-out)` or similar token-based timing.
  </action>
  <verify>
1. Check shadow usage: `grep -c "shadow-" the55/app/static/css/main.css` (should be >= 10)
2. Check easing usage: `grep -c "ease-out" the55/app/static/css/main.css` (should be >= 5)
3. Visit /admin/login - verify premium login card styling
4. Visit /admin/teams - verify card hover effects
  </verify>
  <done>
Existing components updated to use new tokens:
- Team cards use shadow-md on hover
- Session items have subtle shadow
- Login container has shadow-lg, 16px radius
- Header uses refined border color
- Presentation mode uses text-4xl for month
- All transitions use token-based easing
  </done>
</task>

</tasks>

<verification>
1. Visit /admin/login - login card should have soft shadow, refined corners
2. Visit /admin/teams - cards should lift on hover with shadow
3. Inspect any headline - should show negative letter-spacing
4. Tab through form inputs - focus ring should be subtle blue glow
5. Check body text - should use Inter font at 1.7 line-height
</verification>

<success_criteria>
- [ ] Typography uses fluid clamp() sizes from tokens
- [ ] Headlines have tight letter-spacing (-0.02 to -0.03em)
- [ ] Body text has relaxed line-height (1.7)
- [ ] Buttons have shadow and hover lift effect
- [ ] Cards have consistent shadow treatment
- [ ] Inputs have refined focus ring
- [ ] Reduced motion preference respected
- [ ] Existing pages render correctly (no visual regressions)
</success_criteria>

<output>
After completion, create `.planning/phases/23-design-foundation/23-02-SUMMARY.md`
</output>
